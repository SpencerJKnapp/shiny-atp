---
title: "iDX AssetReport"
author: "Industrial Data Exchange"
header-includes: 
   \usepackage{graphicx}
   \usepackage{fancyhdr}
   \pagestyle{fancy}
   \setlength\headheight{28pt}
   \fancyhead[L]{\includegraphics[width=5cm]{C:/Users/Jayashree RAMAN/Documents/iDX/shiny-atp/idx_logo.JPG}}
    
   \fancyfoot[LE,RO]{GPIM}
output: pdf_document
params: 
  data: NULL
n : NA
date: "`r format(Sys.time(), '%d %B, %Y')`"
---



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
options(tinytex.verbose = TRUE)
library(kableExtra)
library(dplyr)

```


```{r echo=FALSE}
def.chunk.hook  <- knitr::knit_hooks$get("chunk")
knitr::knit_hooks$set(chunk = function(x, options) {
  x <- def.chunk.hook(x, options)
  ifelse(options$size != "normalsize", paste0("\\", options$size,"\n\n", x, "\n\n \\normalsize"), x)
})
```



```{r echo=FALSE}
format.money  <- function(x, ...) {
  paste0("$", formatC(as.numeric(x), format="f", digits=2, big.mark=","))
}

```


```{r size="huge", fig.align='center', echo=FALSE, warning=FALSE}
kable(paste0('Generated on ' , format(Sys.time(), '%d %B, %Y')), format = "pandoc")%>%
    kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"))

```


```{r echo=FALSE, out.width='100%', fig.align='center'}
knitr::include_graphics('C:/Users/Jayashree RAMAN/Documents/iDX/shiny-atp/idx_logo.JPG')

```
#\copyright
\newpage

#Details of Asset:
```{r echo=FALSE}
# The `params` object is available in the document.
#params$data


mData <- (params$data)
mData <- data.frame(mData)

mData <- (t(mData))
mData2 <- as.data.frame(t(mData))

mData_config <- mData2  %>% select(YearManufactured, Model, OEM, Type)

mData_disp <- mData2  %>% select(City, State, Date) %>% arrange(desc(Date))


mData_CurrentConfig <- mData_config[1,]
mData_Current <- mData_disp[1,]

mData_History <- mData_disp[2:nrow(mData_disp),]

mData_price_disp <- mData2 %>% select(Retail_Price, Buyback_Price, Sell_Price)
# kable(mData)
# kable(mData_disp)

  


```



#Machine - Configuration Details:
```{r echo=FALSE, size="huge"}

colnames(mData_CurrentConfig) <- c("Year Manufactured", "Model Name", "OEM","Type of System")
kable(t(mData_CurrentConfig))
```

#Machine - Current Installation Details:
```{r echo=FALSE, size="huge"}

colnames(mData_Current) <- c("City Installed", "State Installed", "Date of Installation")
kable(t(mData_Current))


```


# Machine - Pricing Details:
```{r echo=FALSE}

#kable(mData_price_disp)

colnames(mData_price_disp) <- c("Retail Price (USD)", "Buyback Price(USD)", "Sell Price (USD)")

kable((mData_price_disp[1,]))

```


#Machine - Previous Installation Details:
```{r echo=FALSE, results='as.is'}
#Here we go!

colnames(mData_History) <- c("City of Installation", "State of Installation", "Date Installed")

  for (i in 1:nrow(mData_History)){
    kable(t(mData_History))
  }
kable(t(mData_History)) 
  
#print(paste("x",params$data,sep=""))
#A<-read.delim(params$data,header=T,sep="\t")
#kable(A)
```
